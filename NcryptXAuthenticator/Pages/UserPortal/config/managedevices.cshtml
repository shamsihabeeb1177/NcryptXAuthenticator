@page
@model NcryptXAuthenticator.Pages.UserPortal.config.managedevicesModel
@using JustAnotherAPI.data
@using JustAnotherAPI.Models
@{

    userDbContext dbcon = new userDbContext();
    List < users > allusers  = dbcon.Users.ToList();
  
}

<br />
<br />
<form class="form-control" method="post">


<table class="table table-dark">

    <th>
        Username
    </th>
    <th>
        DeviceID
    </th>
    <th>
        DeviceType
    </th>
    <th>
        Status
    </th>
    <th>
        Registered Date
    </th>
    <th>
        Expiry Date
    </th>
    
    @{
        foreach (var u in allusers){

                    <tr>
                    <td>
                        <input class="form-check-input" type="checkbox" name="usr" value="@u.username+@u.deviceid" id="@u.username">
                        <label class="form-check-label"  for="usr">
                            @u.username;
                        </label>

                    </td>
                    <td >
                            <p>@u.deviceid</p>
                               
                    </td>
                    <td>
                            <p>@u.devicetype
                            </p>
                    </td>
                    <td>

                            <p>@u.status</p>
                    </td>
                    <td>

                            <p>@u.startdate</p>
                    </td>
                    <td>

                            <p>@u.enddate</p>
                    </td>
                    </tr>
        }
    }

</table>
<button type="submit" class="btn btn-success" name="enable" value="btn">Enable</button>
<button type="submit" class="btn btn-danger" name="del" value="btn">Delete</button>
<button type="submit" class="btn btn-danger" name="disable" value="btn">Disable</button>
<button type="submit" class="btn btn-success" name="restore" value="btn">Restore Timer</button>

</form>